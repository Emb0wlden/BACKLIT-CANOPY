#!/usr/bin/env python3
"""Kauffman-42 Minimal Autocatalytic Set – discovered Nov 26 2025, seed 42"""

from v54_omniversal_integer import BacklitCanopy

bc = BacklitCanopy(enable_physics=True, enable_coheron=False, enable_angular=False)

bc.rigid.new_group(0)

replicator_genome_kauffman42 = [
    # angle (x,y,z)     delta  plane  amp   # role
    (( 12,  47, 112),   3, 1, 40),  # seed ring 1
    ((102, 137, 202),   3, 1, 40),
    ((192, 227, 292),   3, 1, 40),
    ((282, 317,  22),   3, 1, 40),
    (( 57,  87, 157),   3, 1, 40),
    ((147, 177, 247),   3, 1, 40),
    ((237, 267, 337),   3, 1, 40),
    ((327, 357,  67),   3, 1, 40),  # ← original 8 random seed pointers
    (( 33,  92, 183),  -2, 1, 38),  # counter-ring
    (( 63, 122, 213),  -2, 1, 38),
    (( 93, 152, 243),  -2, 1, 38),
    ((123, 182, 273),  -2, 1, 38),
    ((153, 212, 303),  -2, 1, 38),
    ((183, 242, 333),  -2, 1, 38),
    ((213, 272,   3),  -2, 1, 38),
    ((243, 302,  33),  -2, 1, 38),
    ((273, 332,  63),  -2, 1, 38),
    ((303,   2,  93),  -2, 1, 38),
    ((333,  32, 123),  -2, 1, 38),
    ((  3,  62, 153),  -2, 1, 38),
    (( 48, 137, 228),   4, 2, 45),  # phase-2 reader heads
    ((138, 227, 318),   4, 2, 45),
    ((228, 317,  48),   4, 2, 45),
    ((318,  47, 138),   4, 2, 45),
    (( 87, 183, 273),   5, 0, 52),  # phase-3 writers
    ((177, 273,   3),   5, 0, 52),
    ((267,   3,  93),   5, 0, 52),
    ((357,  93, 183),   5, 0, 52),
    (( 92, 177, 267),   0, 1, 99),  # stationary clocks (the "ribosome")
    ((182, 267, 357),   0, 1, 99),
    ((272, 357,  87),   0, 1, 99),
    ((  2,  87, 177),   0, 1, 99),
    ((177,  12, 267),   3, 1, 60),  # final repair pointers
    ((267, 102, 357),   3, 1, 60),
]

for ang, delta, plane, amp in replicator_genome_kauffman42:
    bc.new_pointer(ang, delta=delta, plane=plane, amp=amp, rigid_group=0)

print("Kauffman-42 replicator loaded – 34 excitations, rigid group 0")
print("First daughter expected ~frame 166 ± 8")
print("Run: for i in range(10000): bc.flash(); print(bc.ptr.alive.sum())")
